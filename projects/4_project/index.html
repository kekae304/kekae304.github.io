<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <p>Developed a Snake Game using object-oriented design principles for the COMP ENG 2SH4 course. Below is a snippet from the main project file.</p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">"MacUILib.h"</span><span class="cp">
#include</span> <span class="cpf">"objPos.h"</span><span class="cp">
#include</span> <span class="cpf">"objPosArrayList.h"</span><span class="cp">
#include</span> <span class="cpf">"GameMechs.h"</span><span class="cp">
#include</span> <span class="cpf">"Player.h"</span><span class="cp">
</span>
<span class="c1">//using namespace std;</span>

<span class="cp">#define DELAY_CONST 100000
</span>
<span class="n">GameMechs</span><span class="o">*</span> <span class="n">myGM</span><span class="p">;</span>
<span class="n">Player</span><span class="o">*</span> <span class="n">myPlayer</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">Initialize</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">GetInput</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">RunLogic</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">DrawScreen</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">LoopDelay</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">CleanUp</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Initialize</span><span class="p">();</span>

    <span class="k">while</span><span class="p">(</span><span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getExitFlagStatus</span><span class="p">()</span> <span class="o">==</span> <span class="nb">false</span><span class="p">)</span>  
    <span class="p">{</span>
        <span class="n">GetInput</span><span class="p">();</span>
        <span class="n">RunLogic</span><span class="p">();</span>
        <span class="n">DrawScreen</span><span class="p">();</span>
        <span class="n">LoopDelay</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="n">CleanUp</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">Initialize</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">MacUILib_init</span><span class="p">();</span>
    <span class="n">MacUILib_clearScreen</span><span class="p">();</span>

    <span class="n">myGM</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GameMechs</span><span class="p">(</span><span class="mi">26</span><span class="p">,</span><span class="mi">13</span><span class="p">);</span>
    <span class="n">myPlayer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Player</span><span class="p">(</span><span class="n">myGM</span><span class="p">);</span>
    <span class="n">srand</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="nb">NULL</span><span class="p">));</span> 
    
    <span class="n">objPos</span> <span class="n">tempPos</span><span class="p">;</span>
    <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">generateFood</span><span class="p">(</span><span class="n">tempPos</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">GetInput</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getInput</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">RunLogic</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>  
    <span class="n">myPlayer</span><span class="o">-&gt;</span><span class="n">updatePlayerDir</span><span class="p">();</span>
    <span class="n">myPlayer</span><span class="o">-&gt;</span><span class="n">movePlayer</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">myPlayer</span><span class="o">-&gt;</span><span class="n">checkSelfCollision</span><span class="p">())</span>
    <span class="p">{</span>
        <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">setLoseFlag</span><span class="p">();</span>
        <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">setExitTrue</span><span class="p">();</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">clearInput</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">DrawScreen</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">MacUILib_clearScreen</span><span class="p">();</span>  

    <span class="kt">bool</span> <span class="n">drawn</span><span class="p">;</span> 

    <span class="n">objPosArrayList</span><span class="o">*</span> <span class="n">playerBody</span> <span class="o">=</span> <span class="n">myPlayer</span><span class="o">-&gt;</span><span class="n">getPlayerPos</span><span class="p">();</span>
    <span class="n">objPos</span> <span class="n">tempBody</span><span class="p">;</span>

    <span class="n">objPos</span> <span class="n">tempFoodPos</span><span class="p">;</span>
    <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getFoodPos</span><span class="p">(</span><span class="n">tempFoodPos</span><span class="p">);</span>

    <span class="c1">//creating a for loop to iterate through Y values</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getBoardSizeY</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> 
    <span class="p">{</span>   
        <span class="c1">//creating a for loop to iterate through X values</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getBoardSizeX</span><span class="p">();</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> 
        <span class="p">{</span>
            <span class="n">drawn</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
            <span class="c1">//creating a for loop to print each of the elements in the snake</span>
            <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">k</span> <span class="o">&lt;</span> <span class="n">playerBody</span><span class="o">-&gt;</span><span class="n">getSize</span><span class="p">();</span> <span class="n">k</span><span class="o">++</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">playerBody</span><span class="o">-&gt;</span><span class="n">getElement</span><span class="p">(</span><span class="n">tempBody</span><span class="p">,</span> <span class="n">k</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">tempBody</span><span class="p">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">j</span> <span class="o">&amp;&amp;</span> <span class="n">tempBody</span><span class="p">.</span><span class="n">y</span> <span class="o">==</span> <span class="n">i</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"%c"</span><span class="p">,</span> <span class="n">tempBody</span><span class="p">.</span><span class="n">symbol</span><span class="p">);</span>
                    <span class="n">drawn</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
            <span class="c1">//coninuing if we've drawn the player</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">drawn</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="c1">//printing the border</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">i</span> <span class="o">==</span> <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getBoardSizeY</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="n">j</span> <span class="o">==</span> <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getBoardSizeX</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"%c"</span><span class="p">,</span><span class="sc">'#'</span><span class="p">);</span>
            <span class="p">}</span> 
            <span class="c1">//printing the food pos</span>
            <span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">tempFoodPos</span><span class="p">.</span><span class="n">y</span> <span class="o">&amp;&amp;</span>  <span class="n">j</span> <span class="o">==</span> <span class="n">tempFoodPos</span><span class="p">.</span><span class="n">x</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"%c"</span><span class="p">,</span> <span class="n">tempFoodPos</span><span class="p">.</span><span class="n">symbol</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">//printing blank spaces</span>
            <span class="k">else</span>
            <span class="p">{</span>
                <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"%c"</span><span class="p">,</span><span class="sc">' '</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="c1">//printing the score</span>
    <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"Score: %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getScore</span><span class="p">());</span> 
    <span class="c1">//printing debugging messages</span>
    <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"===== DEBUG MESSAGES =====</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"Player Positions:</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">l</span> <span class="o">&lt;</span> <span class="n">playerBody</span><span class="o">-&gt;</span><span class="n">getSize</span><span class="p">();</span> <span class="n">l</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">playerBody</span><span class="o">-&gt;</span><span class="n">getElement</span><span class="p">(</span><span class="n">tempBody</span><span class="p">,</span> <span class="n">l</span><span class="p">);</span>
        <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"&lt;%d, %d&gt; "</span><span class="p">,</span> <span class="n">tempBody</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">tempBody</span><span class="p">.</span><span class="n">y</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Board Size: %dx%d"</span><span class="p">,</span> <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getBoardSizeX</span><span class="p">(),</span> <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getBoardSizeY</span><span class="p">());</span>
    <span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">Food Pos: &lt;%d, %d&gt; + %c</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">tempFoodPos</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="n">tempFoodPos</span><span class="p">.</span><span class="n">y</span><span class="p">,</span> <span class="n">tempFoodPos</span><span class="p">.</span><span class="n">symbol</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">LoopDelay</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">MacUILib_Delay</span><span class="p">(</span><span class="n">DELAY_CONST</span><span class="p">);</span> <span class="c1">// 0.1s delay</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">CleanUp</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">MacUILib_clearScreen</span><span class="p">();</span>   
    <span class="c1">//printing either losing screen or exit screen </span>
    <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getLoseFlagStatus</span><span class="p">()</span> <span class="o">?</span> <span class="p">(</span><span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"You Lost! Final Score: %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">myGM</span><span class="o">-&gt;</span><span class="n">getScore</span><span class="p">()))</span> <span class="o">:</span> <span class="p">(</span><span class="n">MacUILib_printf</span><span class="p">(</span><span class="s">"Game Exited</span><span class="se">\n</span><span class="s">"</span><span class="p">));</span>
    <span class="n">MacUILib_uninit</span><span class="p">();</span>
    <span class="c1">//removing the heap instances</span>
    <span class="k">delete</span> <span class="n">myGM</span><span class="p">;</span>
    <span class="k">delete</span> <span class="n">myPlayer</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>Our design drew inspiration from successful bots of the past, incorporating key components such as the HC-SR04 ultrasonic sensor for distance measurement, the KY-033 line tracking sensor for navigation, and the MX-1508 brushed DC motor driver for efficient motor control.</p> </body></html>